<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Working with D3.js</title>

        <script type="text/javascript" charset="utf-8" src="http://d3js.org/d3.v3.min.js"></script>

        <style type="text/css">
            .chart .line {
                font: 10px sans-serif;
                background-color: steelblue;
                text-align: right;
                padding: 3px;
                margin: 1px;
                color: white;
            }
        </style>
    </head>
    <body>
        <!-- Sample section for the Hello world demo -->
        <section>
        </section>

        <!-- Chart created manually using HTML -->
        <div class="chart">
            <p>This was created hardcoding data onto HTML</p>
            <div class="line" style="width: 40px;">4</div>
            <div class="line" style="width: 80px;">8</div>
            <div class="line" style="width: 150px;" >15</div>
            <div class="line" style="width: 160px;">16</div>
            <div class="line" style="width: 230px;">23</div>
            <div class="line" style="width: 420px;">42</div>
        </div>

        <!-- Chart generated by D3 -->
        <div class="chart" id="d3-chart">
            <p>This was generated by D3.js</p>
        </div>
        <div class="chart" id="d3-chart-scaled">
            <p>This was generated by D3.js</p>
        </div>

        <script type="text/javascript">
            // Standard JS DOM manipulation
            var div = document.createElement("div");
            div.innerHTML = "Hello, world!";
            document.body.appendChild(div);

            // D3 selector example for DOM manipulation
            var section = d3.selectAll("section");
            var div = section.append("div");
            div.html("Hello, world!");

            // D3 method chaining (use 'var' for backup!)
            d3.select("body").style("color", "white").style("background-color", "black");

            // D3 chart generation
            var data = [4, 8, 15, 16, 23, 42, 50, 90];
            d3.select("#d3-chart").selectAll("div").data(data).enter().append("div").attr("class", "line").style("width", function(d) { return d * 10 + "px"; }).text(function(d) { return d; });

            // Creating scaling function
            var scaleFunction = d3.scale.linear().domain([0, d3.max(data)]).range([0, 420]);
            d3.select("#d3-chart-scaled").selectAll("div").data(data).enter().append("div").attr("class", "line").style("width", function(d) { return scaleFunction(d) + "px"; }).text(function(d) { return d; });
        </script>
    </body>
</html>
